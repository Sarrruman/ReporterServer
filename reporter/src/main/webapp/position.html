<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, width=device-width" />
<link rel="stylesheet" type="text/css"
	href="https://js.api.here.com/v3/3.0/mapsjs-ui.css?dp-version=1533195059" />
<script type="text/javascript"
	src="https://js.api.here.com/v3/3.0/mapsjs-core.js"></script>
<script type="text/javascript"
	src="https://js.api.here.com/v3/3.0/mapsjs-service.js"></script>
<script type="text/javascript"
	src="https://js.api.here.com/v3/3.0/mapsjs-ui.js"></script>
<script type="text/javascript"
	src="https://js.api.here.com/v3/3.0/mapsjs-mapevents.js"></script>
<link
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">
</head>
<body>
	<div
		style="background: lightslategray; display: flex; align-items: center; justify-content: center;">
		<a href='/reporter' class="btn btn-primary">Back</a>
	</div>
	<div style="height: 93vh" id="mapContainer"></div>
	<script>
		let params = (new URL(document.location)).searchParams;
		let lat = parseFloat(params.get("lat"));
		let lon = parseFloat(params.get("lon"));
		// Initialize the platform object:
		var platform = new H.service.Platform({
			'app_id' : 'B5OmEwiGpZTZst73yEMc',
			'app_code' : 'JjHGmYCFHq38fVwKK0bwfw'
		});

		var pixelRatio = window.devicePixelRatio || 1;
		var defaultLayers = platform.createDefaultLayers({
			tileSize : pixelRatio === 1 ? 256 : 512,
			ppi : pixelRatio === 1 ? undefined : 320
		});

		//Step 2: initialize a map
		var map = new H.Map(document.getElementById('mapContainer'),
				defaultLayers.normal.map, {
					center : {
						lat : lat,
						lng : lon
					},
					zoom : 15,
					pixelRatio : pixelRatio
				});

		//Step 3: make the map interactive
		// MapEvents enables the event system
		// Behavior implements default interactions for pan/zoom (also on mobile touch environments)
		var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));

		// Create the default UI components
		var ui = H.ui.UI.createDefault(map, defaultLayers);

		var defaultMarker = new H.map.Marker({
			lat : lat,
			lng : lon
		});
		map.addObject(defaultMarker);
	</script>
<body>
</html>